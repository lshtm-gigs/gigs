<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to gigs • gigs</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to gigs">
<meta name="description" content="Learn how to get started with the basics of gigs.
">
<meta property="og:description" content="Learn how to get started with the basics of gigs.
">
<meta property="og:image" content="https://lshtm-gigs.github.io/gigs/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gigs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/gigs.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lshtm-gigs/gigs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to gigs</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lshtm-gigs/gigs/blob/master/vignettes/gigs.Rmd" class="external-link"><code>vignettes/gigs.Rmd</code></a></small>
      <div class="d-none name"><code>gigs.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Produced as part of the Guidance for International Growth Standards
project at the London School of Hygiene &amp; Tropical Medicine,
<strong>gigs</strong> provides a single, simple interface for working
with the WHO Child Growth standards and outputs from the
INTERGROWTH-21<sup>st</sup> project. It provides functions for easy and
reproducible classification of fetal, newborn, and infant growth using
international growth standards. The package allows conversions and
classifications of growth measurements to centiles, z-scores, and common
international metrics such as stunting.</p>
<div class="section level3">
<h3 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h3>
<p>Let’s start by loading the package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lshtm-gigs/gigs/" class="external-link">gigs</a></span><span class="op">)</span></span></code></pre></div>
<p>This vignette has two examples for applying <strong>gigs</strong>.
The first is using <strong>gigs</strong> to convert growth measurements
into centiles or z-scores according to appropriate standards from either
the INTERGROWTH-21<sup>st</sup> or WHO Child Growth standards. The
second is using <strong>gigs</strong> to convert growth measurements to
categorical growth outcomes, in this case size-for-gestational age.</p>
</div>
<div class="section level3">
<h3 id="example-data">Example data<a class="anchor" aria-label="anchor" href="#example-data"></a>
</h3>
<p>This tutorial uses a sample of data from 300 infants enrolled in the
Low birthweight Infant Feeding Exploration (LIFE) study<span class="citation"><sup>1,2</sup></span>. These infants were assessed at
birth then followed up at intervals after birth, with data available up
to six months of age in this data extract.</p>
<p>Though <code><a href="../reference/life6mo.html">gigs::life6mo</a></code> has data on length in cm
(<code>len_cm</code>), head circumference (<code>headcirc_cm</code>),
and mid-upper arm circumference (<code>muac_cm</code>), we are going to
subset this dataset to focus on weight in kilograms
(<code>wt_kg</code>). The dataset also has columns with an ID number per
infant in the study (<code>id</code>), the gestational age at birth for
each infant (<code>gestage</code>), the sex of each infant
(<code>sex</code>; <code>"M"</code> = male, <code>"F"</code> = female),
the visit week at which weight was recorded (<code>visitweek</code>),
and post-menstrual age in days (<code>pma</code>).</p>
<p>After loading the dataset, we add a variable <code>preterm</code>,
which is <code>TRUE</code> wherever an infant was born before 37 weeks’
gestational age. We also convert <code>sex</code> from a
<code>factor</code> to a <code>character</code> variable so that
<code>gigs</code> will accept it as an input.</p>
<div class="section level4">
<h4 id="loading-the-data">Loading the data<a class="anchor" aria-label="anchor" href="#loading-the-data"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">life6mo</span><span class="op">)</span></span>
<span><span class="va">life6mo</span> <span class="op">&lt;-</span> <span class="va">life6mo</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span> <span class="co"># Removes `len_cm`, `headcirc_cm`, and `muac_cm`</span></span>
<span><span class="va">life6mo</span><span class="op">$</span><span class="va">preterm</span> <span class="op">&lt;-</span> <span class="va">life6mo</span><span class="op">$</span><span class="va">gestage</span> <span class="op">&lt;</span> <span class="fl">37</span> <span class="op">*</span> <span class="fl">7</span></span>
<span><span class="va">life6mo</span><span class="op">$</span><span class="va">sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">life6mo</span><span class="op">$</span><span class="va">sex</span><span class="op">)</span></span>
<span><span class="va">life6mo</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">life6mo</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">life6mo</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id gestage sex visitweek pma age_days wt_kg preterm</span></span>
<span><span class="co">#&gt; 1  1     273   M         0 273        0 2.300   FALSE</span></span>
<span><span class="co">#&gt; 2  1     273   M         1 280        7 2.185   FALSE</span></span>
<span><span class="co">#&gt; 3  1     273   M         2 288       15 2.325   FALSE</span></span>
<span><span class="co">#&gt; 4  1     273   M         4 301       28 2.575   FALSE</span></span>
<span><span class="co">#&gt; 5  1     273   M         6 316       43 3.410   FALSE</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="using-gigs-to-convert-growth-measurements-to-z-scores">Using gigs to convert growth measurements to z-scores<a class="anchor" aria-label="anchor" href="#using-gigs-to-convert-growth-measurements-to-z-scores"></a>
</h2>
<div class="section level3">
<h3 id="single-step-approach">Single-step approach<a class="anchor" aria-label="anchor" href="#single-step-approach"></a>
</h3>
<p>The easiest way to use <strong>gigs</strong> is to let it handle work
for you. Using its z-scoring functions, you can apply GIGS-recommended
growth standards for each measurement and time point in your data.
Standards are applied based on the best practices advised by WHO and
INTERGROWTH-21<sup>st</sup> when using their respective growth
standards.</p>
<p>We can use <code><a href="../reference/gigs_zscoring.html">gigs_waz()</a></code> to add weight-for-age z-scores to
our dataset in a single step:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">life6mo_zscored</span> <span class="op">&lt;-</span> <span class="va">life6mo</span></span>
<span><span class="va">life6mo_zscored</span><span class="op">$</span><span class="va">waz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gigs_zscoring.html">gigs_waz</a></span><span class="op">(</span>weight_kg <span class="op">=</span> <span class="va">life6mo</span><span class="op">$</span><span class="va">wt_kg</span>,</span>
<span>                                age_days <span class="op">=</span> <span class="va">life6mo</span><span class="op">$</span><span class="va">age_days</span>,</span>
<span>                                gest_days <span class="op">=</span> <span class="va">life6mo</span><span class="op">$</span><span class="va">gestage</span>,</span>
<span>                                sex <span class="op">=</span> <span class="va">life6mo</span><span class="op">$</span><span class="va">sex</span>,</span>
<span>                                id <span class="op">=</span> <span class="va">life6mo</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in gigs_waz(weight_kg = life6mo$wt_kg, age_days = life6mo$age_days, : There were <span style="color: #0000BB;">134</span> 'at birth' observations where `age_days` &gt; <span style="color: #0000BB;">0.5</span>.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> This occurred for IDs <span style="color: #0000BB;">2</span>, <span style="color: #0000BB;">3</span>, <span style="color: #0000BB;">6</span>, <span style="color: #0000BB;">7</span>, <span style="color: #0000BB;">12</span>, <span style="color: #0000BB;">13</span>, <span style="color: #0000BB;">14</span>, <span style="color: #0000BB;">16</span>, <span style="color: #0000BB;">20</span>, <span style="color: #0000BB;">21</span>, <span style="color: #0000BB;">22</span>, <span style="color: #0000BB;">23</span>, <span style="color: #0000BB;">24</span>, …, <span style="color: #0000BB;">295</span>,</span></span>
<span><span class="co">#&gt;   and <span style="color: #0000BB;">298</span>.</span></span>
<span><span class="va">life6mo_zscored</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"visitweek"</span>, <span class="st">"gestage"</span>, <span class="st">"age_days"</span>, <span class="st">"sex"</span>, <span class="st">"waz"</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id visitweek gestage age_days sex       waz</span></span>
<span><span class="co">#&gt; 1  1         0     273        0   M -2.298544</span></span>
<span><span class="co">#&gt; 2  1         1     273        7   M -3.026682</span></span>
<span><span class="co">#&gt; 3  1         2     273       15   M -3.249340</span></span>
<span><span class="co">#&gt; 4  1         4     273       28   M -3.619941</span></span>
<span><span class="co">#&gt; 5  1         6     273       43   M -2.796237</span></span></code></pre></div>
<p>On plotting the mean weight-for-age z-scores as a function of the
visit week, we see that preterm z-scores in the LIFE data extract are on
average higher than for term infants. This is expected for this dataset,
as term infants in the LIFE study were only included if they were
particularly small at birth. In contrast, preterm infants were included
irrespective of their relative size at birth.</p>
<p><img src="gigs_waz_simple.png" alt="A line graph showing mean WAZ by visit week in 300 infants from the LIFE study. There is a line for preterm infants (dotted) and term infants (solid). Term infants in this study were consistently smaller than the preterm participants." width="95%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="multi-step-approach">Multi-step approach<a class="anchor" aria-label="anchor" href="#multi-step-approach"></a>
</h3>
<p>Instead of letting <strong>gigs</strong> do the heavy lifting, you
may want to clearly lay out the steps taken in your analysis. Luckily,
<strong>gigs</strong> provides all the functionality you need for
this.</p>
<p>We start by generating WAZs using each growth standard. To do this,
we need to use the <strong>gigs</strong> conversion functions. These
take vectors of growth data and convert them into z-scores or centiles.
You can use either <code><a href="../reference/value2zscore.html">value2zscore()</a></code> or
<code>value2zcentile()</code> depending on which conversion you want to
do. You then pass in two parameters, <code>family</code> and
<code>acronym</code>, which describe:</p>
<ul>
<li>
<code>family</code>: The broad set of growth standards you want to
use
<ul>
<li>
<code>ig_fet</code> - INTERGROWTH-21<sup>st</sup> Fetal
standards<span class="citation"><sup>3–9</sup></span>
</li>
<li>
<code>ig_nbs</code> - INTERGROWTH-21<sup>st</sup> Newborn Size
Standards (incl. very preterm)<span class="citation"><sup>10–12</sup></span>
</li>
<li>
<code>ig_png</code> - INTERGROWTH-21<sup>st</sup> Postnatal Growth
Standards<span class="citation"><sup>13</sup></span>
</li>
<li>
<code>who_gs</code> - WHO Child Growth Standards<span class="citation"><sup>14–16</sup></span>
</li>
</ul>
</li>
<li>
<code>acronym</code>: The specific growth standard you want to use,
e.g. for the INTERGROWTH-21<sup>st</sup> Postnatal Growth Standards:
<ul>
<li>
<code>"wfa"</code> (weight-for-age)</li>
<li>
<code>"lfa"</code> (length-for-age)</li>
<li>
<code>"hcfa"</code> (head circumference-for-age)</li>
<li>
<code>"wfl"</code> (weight-for-length)</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">waz_nbs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo</span>, <span class="fu"><a href="../reference/value2zscore.html">value2zscore</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">wt_kg</span>,</span>
<span>                                      x <span class="op">=</span> <span class="va">gestage</span>,</span>
<span>                                      sex <span class="op">=</span> <span class="va">sex</span>,</span>
<span>                                      family <span class="op">=</span> <span class="st">"ig_nbs"</span>,</span>
<span>                                      acronym <span class="op">=</span> <span class="st">"wfga"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">waz_who</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo</span>, <span class="fu"><a href="../reference/value2zscore.html">value2zscore</a></span><span class="op">(</span>y <span class="op">=</span>  <span class="va">wt_kg</span>,</span>
<span>                                      x <span class="op">=</span> <span class="va">age_days</span>,</span>
<span>                                      sex <span class="op">=</span> <span class="va">sex</span>,</span>
<span>                                      family <span class="op">=</span> <span class="st">"who_gs"</span>,</span>
<span>                                      acronym <span class="op">=</span> <span class="st">"wfa"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">waz_png</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo</span>, <span class="fu"><a href="../reference/value2zscore.html">value2zscore</a></span><span class="op">(</span>y <span class="op">=</span>  <span class="va">wt_kg</span>,</span>
<span>                                      x <span class="op">=</span> <span class="va">pma</span> <span class="op">/</span> <span class="fl">7</span>,</span>
<span>                                      sex <span class="op">=</span> <span class="va">sex</span>,</span>
<span>                                      family <span class="op">=</span> <span class="st">"ig_png"</span>,</span>
<span>                                      acronym <span class="op">=</span> <span class="st">"wfa"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in value2zscore(y = wt_kg, x = pma/7, sex = sex, family = "ig_png", : Input arguments have invalid values:</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">ℹ</span> Argument `x`: 128 in 2191 elements were out-of-bounds (see the GIGS conversion function documentation for bounds).</span></span></code></pre></div>
<p>This “out of bounds” warning from *gigs** tells us that it couldn’t
calculate a z-score for 128 observations, because the post-menstrual age
for those observations was outside the range of the
INTERGROWTH-21<sup>st</sup> Postnatal Growth Standards (i.e. 27 to 64
weeks’ post-menstrual age).</p>
<p>Nonetheless, we now have standard-specific WAZs. We can use a chain
of <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse()</a></code> functions to make one overall <code>waz</code>
column in <code>life6mo</code>. The first condition,
<code>visitweek == 0</code>, ensures that the
INTERGROWTH-21<sup>st</sup> Newborn Size standards are used for measures
taken at visit week zero (which for this study, is equivalent to
at-birth). The <code>preterm</code> and <code>pma &lt;= 64 * 7</code>
conditions ensure that the INTERGROWTH-21<sup>st</sup> Postnatal Growth
standards are used for preterm infants who are younger than than 64
weeks PMA (the upper limit of the INTERGROWTH-21<sup>st</sup> Postnatal
Growth standards). The final condition, <code>use_who_gs</code>, ensures
that the WHO Child Growth standard z-scores are used wherever infants
were either born term, or were born preterm and are older than 64 weeks
PMA.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">is_birth_measure</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo_zscored</span>, <span class="va">visitweek</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">use_ig_nbs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo_zscored</span>, <span class="va">is_birth_measure</span><span class="op">)</span></span>
<span><span class="va">use_ig_png</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo_zscored</span>,</span>
<span>                   <span class="op">!</span><span class="va">is_birth_measure</span> <span class="op">&amp;</span> <span class="va">preterm</span> <span class="op">&amp;</span> <span class="va">pma</span> <span class="op">&lt;=</span> <span class="fl">64</span> <span class="op">*</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">use_who_gs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo_zscored</span>,</span>
<span>                   <span class="op">!</span><span class="va">is_birth_measure</span> <span class="op">&amp;</span> <span class="op">!</span><span class="va">preterm</span> <span class="op">|</span> <span class="op">(</span><span class="va">preterm</span> <span class="op">&amp;</span> <span class="va">pma</span> <span class="op">&gt;</span> <span class="fl">64</span> <span class="op">*</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">life6mo_zscored</span><span class="op">$</span><span class="va">waz_complex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep.int</a></span><span class="op">(</span><span class="cn">NA_real_</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">life6mo_zscored</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">life6mo_zscored</span><span class="op">$</span><span class="va">waz_complex</span><span class="op">[</span><span class="va">use_ig_nbs</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">waz_nbs</span><span class="op">[</span><span class="va">use_ig_nbs</span><span class="op">]</span></span>
<span><span class="va">life6mo_zscored</span><span class="op">$</span><span class="va">waz_complex</span><span class="op">[</span><span class="va">use_ig_png</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">waz_png</span><span class="op">[</span><span class="va">use_ig_png</span><span class="op">]</span></span>
<span><span class="va">life6mo_zscored</span><span class="op">$</span><span class="va">waz_complex</span><span class="op">[</span><span class="va">use_who_gs</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">waz_who</span><span class="op">[</span><span class="va">use_who_gs</span><span class="op">]</span></span></code></pre></div>
<p>On plotting the mean WAZ for each visit week, we get the same plot as
when we used the z-scores from <code><a href="../reference/classify_wfa.html">classify_wfa()</a></code>!</p>
<p><img src="gigs_waz_complex.png" alt="A line graph showing mean WAZ by visit week in 300 infants from the LIFE study. There is a line for preterm infants (dotted) and term infants (solid). Term infants in this study were consistently smaller than the preterm participants." width="95%" style="display: block; margin: auto;"></p>
<p>Sure - you <em>can</em> do it yourself, but doing it manually makes
it more likely to apply the wrong growth standard for a given
observation. Instead, use the <code><a href="../reference/gigs_zscoring.html">gigs_waz()</a></code> function and
friends (<code><a href="../reference/gigs_zscoring.html">gigs_lhaz()</a></code>, <code><a href="../reference/gigs_zscoring.html">gigs_wlz()</a></code>,
<code><a href="../reference/gigs_zscoring.html">gigs_hcaz()</a></code>) to automatically use growth standards
suggested by GIGS for each observation in your data.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-gigs-to-obtaining-growth-outcomes-from-measurements">Using gigs to obtaining growth outcomes from measurements<a class="anchor" aria-label="anchor" href="#using-gigs-to-obtaining-growth-outcomes-from-measurements"></a>
</h2>
<p>The <strong>gigs</strong> package contains functions which can be
used to assess a range of common growth outcomes:</p>
<ul>
<li>Size-for-gestational age with
<code><a href="../reference/compute_sfga.html">compute_sfga()</a></code>/<code><a href="../reference/classify_sfga.html">classify_sfga()</a></code>
</li>
<li>Small, vulnerable newborns with
<code><a href="../reference/compute_svn.html">compute_svn()</a></code>/<code><a href="../reference/classify_svn.html">classify_svn()</a></code>
</li>
<li>Stunting with
<code><a href="../reference/compute_stunting.html">compute_stunting()</a></code>/<code><a href="../reference/classify_stunting.html">classify_stunting()</a></code>
</li>
<li>Wasting with
<code><a href="../reference/compute_wasting.html">compute_wasting()</a></code>/<code><a href="../reference/classify_wasting.html">classify_wasting()</a></code>
</li>
<li>Weight-for-age with
<code><a href="../reference/compute_wfa.html">compute_wfa()</a></code>/<code><a href="../reference/classify_wfa.html">classify_wfa()</a></code>
</li>
<li>Head size with
<code><a href="../reference/compute_headsize.html">compute_headsize()</a></code>/<code><a href="../reference/classify_headsize.html">classify_headsize()</a></code>
</li>
</ul>
<p>You can also obtain classifications for some or all of these outcomes
simultaneously using <code><a href="../reference/classify_growth.html">classify_growth()</a></code>. In this vignette,
we will focus on size-for-GA and small, vulnerable newborn (SVN)
classifications.</p>
<div class="section level3">
<h3 id="size-for-ga">Size-for-GA<a class="anchor" aria-label="anchor" href="#size-for-ga"></a>
</h3>
<p>We can use <code><a href="../reference/compute_sfga.html">compute_sfga()</a></code> to obtain counts of
size-for-GA categories in this dataset. We can then convert these counts
to percentages:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Restrict LIFE data to only rows with birthweights (i.e. age &lt;12hrs) that</span></span>
<span><span class="co"># have all a weight, GA, and sex value</span></span>
<span><span class="va">life6mo_newborns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo</span>,</span>
<span> <span class="va">life6mo</span><span class="op">[</span><span class="va">visitweek</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">age_days</span> <span class="op">&lt;</span> <span class="fl">0.5</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></span><span class="op">(</span><span class="va">wt_kg</span>, <span class="va">gestage</span>, <span class="va">sex</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute birthweight centiles and convert these to size-for-GA categories</span></span>
<span><span class="va">life6mo_newborns</span><span class="op">$</span><span class="va">sfga</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo_newborns</span>,</span>
<span>                              <span class="fu"><a href="../reference/compute_sfga.html">compute_sfga</a></span><span class="op">(</span>weight_kg <span class="op">=</span> <span class="va">wt_kg</span>,</span>
<span>                                           gest_days <span class="op">=</span> <span class="va">gestage</span>,</span>
<span>                                           sex <span class="op">=</span> <span class="va">sex</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sfga_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo_newborns</span>, <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">sfga</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">sfga</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sfga_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">sfga_summary</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">sfga_summary</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">sfga_summary</span></span>
<span><span class="co">#&gt;   SGA   AGA   LGA </span></span>
<span><span class="co">#&gt; 72.56 25.00  2.44</span></span></code></pre></div>
<p><img src="gigs_sfga.png" alt="A bar chart showing the proportion of cases categorised as small-for-gestational age (SGA), appropriate-for-GA (AGA), and large-for-GA (LGA) in 300 infants from the LIFE study. 72.56% of infants were SGA, 25% were AGA, and 2.44% were LGA." width="95%" style="display: block; margin: auto;"></p>
<p>In this dataset, the bulk of newborns are SGA - but what if we
stratify our size-for-GA classifications based on whether infants were
term or preterm?</p>
</div>
<div class="section level3">
<h3 id="small-vulnerable-newborns">Small vulnerable newborns<a class="anchor" aria-label="anchor" href="#small-vulnerable-newborns"></a>
</h3>
<p>The full SVN framework stratifies small, at-risk newborns based on a
combination of their size-for-GA, whether they were low birth-weight
(LBW; birth weight &lt; 2500g), and whether they were born term or
preterm<span class="citation"><sup>17</sup></span>. In a global analysis
of SVN type prevalence and mortality, Lawn et al.<span class="citation"><sup>18</sup></span> focused on a smaller subset of SVN
categories which omitted whether infants were LBW. The
<strong>gigs</strong> package offers SVN classification functionality
for this smaller subset of SVN categories, as 99.5% of global LBW is the
consequence of preterm birth and SGA.</p>
<p>To classify SVN in gigs, the <code><a href="../reference/compute_svn.html">compute_svn()</a></code> function can
be used. We can then convert the counts for each SVN category to
percentages, and plot the results:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">life6mo_newborns</span><span class="op">$</span><span class="va">svn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo_newborns</span>,</span>
<span>                             <span class="fu"><a href="../reference/compute_svn.html">compute_svn</a></span><span class="op">(</span>weight_kg <span class="op">=</span> <span class="va">wt_kg</span>,</span>
<span>                                         gest_days <span class="op">=</span> <span class="va">gestage</span>,</span>
<span>                                         sex <span class="op">=</span> <span class="va">sex</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Unused factor levels kept after small vulnerable newborn categorisation:</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">"Term AGA"</span> and <span style="color: #0000BB;">"Term LGA"</span>.</span></span>
<span><span class="va">svn_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">life6mo_newborns</span>, <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">svn</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">svn</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">svn_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">svn_summary</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">svn_summary</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">svn_summary</span></span>
<span><span class="co">#&gt; Preterm SGA Preterm AGA Preterm LGA    Term SGA    Term AGA    Term LGA </span></span>
<span><span class="co">#&gt;       15.24       25.00        2.44       57.32        0.00        0.00</span></span></code></pre></div>
<p>On plotting this data, we find that the bulk of SGA cases are from
term infants. We would usually expect that size-for-GA categories were
distributed similarly for preterm and term infants. However, due again
to the sampling process for the LIFE study, we should expect that the
term infants are SGA whilst the preterm infants are a mix of
SGA/AGA/LGA.</p>
<p><img src="gigs_svn.png" alt="A bar chart showing the proportion of cases categorised as small-for-gestational age (SGA), appropriate-for-GA (AGA), and large-for-GA (LGA), stratified by whether infants were term or preterm. Of 300 infants from the LIFE study, 15.24% were preterm SGA, 25% were preterm AGA, 2.44% were preterm LGA, and 57.32% were term SGA." width="95%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body" entry-spacing="0" line-spacing="2">
<div id="ref-Vesel2022LowSettings" class="csl-entry">
<div class="csl-left-margin">1. </div>
<div class="csl-right-inline">Vesel, L. <em>et al.</em> <a href="https://doi.org/10.1093/cdn/nzac060.069" class="external-link">Low birthweight infant
feeding practices and growth patterns in the first six months of life in
resource-limited settings</a>. <em>Current Developments in
Nutrition</em> <strong>6</strong>, 611 (2022).</div>
</div>
<div id="ref-Vesel2023FeedingStudy" class="csl-entry">
<div class="csl-left-margin">2. </div>
<div class="csl-right-inline">Vesel, L. <em>et al.</em> <a href="https://doi.org/10.1136/bmjopen-2022-067316" class="external-link">Feeding practices and
growth patterns of moderately low birthweight infants in
resource-limited settings: Results from a multisite, longitudinal
observational study</a>. <em>BMJ Open</em> <strong>13</strong>, e067316
(2023).</div>
</div>
<div id="ref-Papageorghiou2014AInternationalPregnancy" class="csl-entry">
<div class="csl-left-margin">3. </div>
<div class="csl-right-inline">Papageorghiou, A. T. <em>et al.</em> <a href="https://doi.org/10.1016/S0140-6736(14)61490-2" class="external-link">International
standards for fetal growth based on serial ultrasound measurements: The
<span>Fetal</span> <span>Growth</span> <span>Longitudinal</span>
<span>Study</span> of the <span>INTERGROWTH</span>-21st
<span>Project</span></a>. <em>The Lancet</em> <strong>384</strong>,
869–879 (2014).</div>
</div>
<div id="ref-Stirnemann2017InternationalProject" class="csl-entry">
<div class="csl-left-margin">4. </div>
<div class="csl-right-inline">Stirnemann, J. <em>et al.</em> <a href="https://doi.org/10.1002/uog.17347" class="external-link">International estimated fetal
weight standards of the <span>INTERGROWTH</span>-21st
<span>Project</span></a>. <em>Ultrasound in Obstetrics &amp;
Gynecology</em> <strong>49</strong>, 478–486 (2017).</div>
</div>
<div id="ref-Papageorghiou2016InternationalCountries" class="csl-entry">
<div class="csl-left-margin">5. </div>
<div class="csl-right-inline">Papageorghiou, A. T. <em>et al.</em> <a href="https://doi.org/10.1136/bmj.i5662" class="external-link">International standards for
symphysis-fundal height based on serial measurements from the
<span>Fetal</span> <span>Growth</span> <span>Longitudinal</span>
<span>Study</span> of the <span>INTERGROWTH</span>-21st
<span>Project</span>: Prospective cohort study in eight countries</a>.
<em>BMJ</em> <strong>355</strong>, i5662 (2016).</div>
</div>
<div id="ref-Papageorghiou2014BInternationalPregnancy" class="csl-entry">
<div class="csl-left-margin">6. </div>
<div class="csl-right-inline">Papageorghiou, A. T. <em>et al.</em> <a href="https://doi.org/10.1002/uog.13448" class="external-link">International standards for
early fetal size and pregnancy dating based on ultrasound measurement of
crown–rump length in the first trimester of pregnancy</a>.
<em>Ultrasound in Obstetrics &amp; Gynecology</em> <strong>44</strong>,
641–648 (2014).</div>
</div>
<div id="ref-Drukker2020InternationalProject" class="csl-entry">
<div class="csl-left-margin">7. </div>
<div class="csl-right-inline">Drukker, L. <em>et al.</em> <a href="https://doi.org/10.1016/j.ajog.2020.01.012" class="external-link">International
gestational age-specific centiles for umbilical artery
<span>Doppler</span> indices: A longitudinal prospective cohort study of
the <span>INTERGROWTH</span>-21st <span>Project</span></a>. <em>American
Journal of Obstetrics &amp; Gynecology</em> <strong>222</strong>,
602.e1–602.e15 (2020).</div>
</div>
<div id="ref-Rodriguez-Sibaja2021FetalProject" class="csl-entry">
<div class="csl-left-margin">8. </div>
<div class="csl-right-inline">Rodriguez-Sibaja, M. J. <em>et al.</em> <a href="https://doi.org/10.1002/uog.22017" class="external-link">Fetal cerebellar growth and
<span>Sylvian</span> fissure maturation: International standards from
<span>Fetal</span> <span>Growth</span> <span>Longitudinal</span>
<span>Study</span> of <span>INTERGROWTH</span>-21st
<span>Project</span></a>. <em>Ultrasound in Obstetrics &amp;
Gynecology</em> <strong>57</strong>, 614–623 (2021).</div>
</div>
<div id="ref-Stirnemann2020IntergrowthWeight" class="csl-entry">
<div class="csl-left-margin">9. </div>
<div class="csl-right-inline">Stirnemann, J., Salomon, L. J. &amp;
Papageorghiou, A. T. <a href="https://doi.org/10.1002/uog.22000" class="external-link"><span>INTERGROWTH</span>‐21st
standards for <span>Hadlock</span>’s estimation of fetal weight</a>.
<em>Ultrasound in Obstetrics &amp; Gynecology</em> <strong>56</strong>,
946–948 (2020).</div>
</div>
<div id="ref-Villar2014InternationalProject" class="csl-entry">
<div class="csl-left-margin">10. </div>
<div class="csl-right-inline">Villar, J. <em>et al.</em> <a href="https://doi.org/10.1016/s0140-6736(14)60932-6" class="external-link"><span class="nocase">International standards for newborn weight, length, and
head circumference by gestational age and sex: The Newborn
Cross-Sectional Study of the INTERGROWTH-21st Project</span></a>.
<em>The Lancet</em> <strong>384</strong>, 857–868 (2014).</div>
</div>
<div id="ref-Villar2016INTERGROWTH-21stCharts" class="csl-entry">
<div class="csl-left-margin">11. </div>
<div class="csl-right-inline">Villar, J. <em>et al.</em> <a href="https://doi.org/10.1016/S0140-6736(16)00384-6" class="external-link"><span class="nocase">INTERGROWTH-21st very preterm size at birth reference
charts</span></a>. <em>The Lancet</em> <strong>387</strong>, 844–845
(2016).</div>
</div>
<div id="ref-Villar2017BodyProject" class="csl-entry">
<div class="csl-left-margin">12. </div>
<div class="csl-right-inline">Villar, J. <em>et al.</em> <a href="https://doi.org/10.1038/pr.2017.52" class="external-link"><span class="nocase">Body
composition at birth and its relationship with neonatal anthropometric
ratios: the newborn body composition study of the INTERGROWTH-21st
project</span></a>. <em>Pediatric Research 2017 82:2</em>
<strong>82</strong>, 305–316 (2017).</div>
</div>
<div id="ref-Villar2015PostnatalProject" class="csl-entry">
<div class="csl-left-margin">13. </div>
<div class="csl-right-inline">Villar, J. <em>et al.</em> <a href="https://doi.org/10.1016/S2214-109X(15)00163-1" class="external-link"><span class="nocase">Postnatal growth standards for preterm infants: The
Preterm Postnatal Follow-up Study of the INTERGROWTH-21st
Project</span></a>. <em>The Lancet Global Health</em>
<strong>3</strong>, e681–e691 (2015).</div>
</div>
<div id="ref-WHOMulticentreGrowthReferenceStudyGroup2006WHOAge" class="csl-entry">
<div class="csl-left-margin">14. </div>
<div class="csl-right-inline">WHO
Multicentre Growth Reference Study Group &amp; de Onis, M. <a href="https://doi.org/10.1111/j.1651-2227.2006.tb02378.x" class="external-link"><span class="nocase">WHO Child Growth Standards based on length/height, weight
and age</span></a>. <em>Acta Paediatrica Supplement</em>
<strong>450</strong>, 76–85 (2006).</div>
</div>
<div id="ref-WHO2006WHODevelopment" class="csl-entry">
<div class="csl-left-margin">15. </div>
<div class="csl-right-inline">World Health Organisation. <em><span class="nocase">WHO child growth standards: length/height-for-age,
weight-for-age, weight-for-length, weight-for-height and body mass
index-for-age: methods and development</span></em>. 1–312 (2006).</div>
</div>
<div id="ref-WHO2007WHODevelopment" class="csl-entry">
<div class="csl-left-margin">16. </div>
<div class="csl-right-inline">World Health Organisation. <em><span class="nocase">WHO child growth standards: head circumference-for-age,
arm circumference-for-age, triceps skinfold-for-age and subscapular
skinfold-for-age: methods and development</span></em>. 1–237
(2007).</div>
</div>
<div id="ref-Ashorn2023SmallImpact" class="csl-entry">
<div class="csl-left-margin">17. </div>
<div class="csl-right-inline">Ashorn, P. <em>et al.</em> <a href="https://doi.org/10.1016/S0140-6736(23)00354-9" class="external-link">Small vulnerable
newborns—big potential for impact</a>. <em>The Lancet</em>
<strong>401</strong>, 1692–1706 (2023).</div>
</div>
<div id="ref-Lawn2023SmallCounting" class="csl-entry">
<div class="csl-left-margin">18. </div>
<div class="csl-right-inline">Lawn, J. E. <em>et al.</em> <a href="https://doi.org/10.1016/S0140-6736(23)00522-6" class="external-link"><span class="nocase">Small babies, big risks: global estimates of prevalence
and mortality for vulnerable newborns to accelerate change and improve
counting</span></a>. <em>The Lancet</em> <strong>401</strong>, 1707–1719
(2023).</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon R Parker, Bill &amp; Melinda Gates Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
